version: v2
plugins:
  - remote: buf.build/protocolbuffers/go:v1.36.3
    out: internal/
    opt: paths=source_relative
  - remote: buf.build/grpc/go:v1.5.1
    out: internal/
    opt: paths=source_relative
  # Use local generation, as recommended in https://github.com/bufbuild/plugins/issues/58:
  #
  # >We're not actively working on supporting the twitchtv/twirp plugin on the BSR at the moment.
  # >For now we recommend that users use local generation with buf.gen.yaml.
  - local: protoc-gen-twirp
    out: internal/
    opt: paths=source_relative
    types:
      - compilation_cache_service.cas.v1.CASDBService
      - compilation_cache_service.keyvalue.v1.KeyValueDB
      - github.actions.results.api.v1.CacheService
